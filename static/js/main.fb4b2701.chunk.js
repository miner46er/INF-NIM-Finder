(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{130:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(39),i=a.n(s),o=a(11),l=a(12),c=a(14),u=a(13),d=a(16),h=a(15),m=a(23),g=a(28),p=a.n(g),E=a(34),f=a.n(E),v=a(32),b=a.n(v),L=(a(79),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onLogout=function(){a.props.onLogout()},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"renderLoginOption",value:function(){return this.props.isLoggedIn?r.a.createElement(b.a,null,r.a.createElement(b.a.Link,{eventKey:0,onSelect:this.onLogout},"Logout")):r.a.createElement(b.a,null,r.a.createElement(b.a.Link,{href:"/register"},"Register"),r.a.createElement(b.a.Link,{href:"/login"},"Login"))}},{key:"render",value:function(){return r.a.createElement("div",{className:"MainNavbar"},r.a.createElement(f.a,{expand:"sm",bg:"dark",variant:"dark"},r.a.createElement(f.a.Brand,{href:"/"},"INF NIM Finder"),r.a.createElement(f.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(f.a.Collapse,{className:"justify-content-end"},this.renderLoginOption())))}}]),t}(n.Component)),y=a(18),O=a.n(y),k=a(25),w=a(19),j=a(21),S=a.n(j),I=a(20),N=a.n(I),C=a(30),P=a.n(C),M=a(31),F=a.n(M),x=a(26),R=a.n(x),Q=a(27),D=a.n(Q),T=(a(130),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(w.a)({},e.target.id,e.target.value))},a.handleSubmit=function(){var e=Object(k.a)(O.a.mark(function e(t){var n,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n={username:a.state.username,password:a.state.password},r={method:"POST",url:"https://api.stya.net/nim/login",headers:{"content-type":"application/x-www-form-urlencoded"},data:D.a.stringify(n)},R()(r).then(function(e){return a.handleLoginResponse(e.data)});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={username:"",password:""},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleLoginResponse",value:function(e){if(0===e.code&&"OK"===e.status){var t=new Date(Date.now());t.setDate(t.getDate()+1),p.a.save("token",e.token,{path:"/",expires:t}),this.props.onLogin()}else alert(e.status)}},{key:"render",value:function(){return this.props.isLoggedIn?r.a.createElement(m.a,{to:"/"}):r.a.createElement("div",{className:"Login"},r.a.createElement("h3",{id:"login-header"},"Login"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(P.a,{controlId:"username"},r.a.createElement(F.a,null,"Username"),r.a.createElement(N.a,{autoFocus:!0,type:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(P.a,{controlId:"password"},r.a.createElement(F.a,null,"Password"),r.a.createElement(N.a,{type:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(S.a,{block:!0,type:"submit",variant:"dark"},"Login"),r.a.createElement("p",null,"or, ",r.a.createElement("a",{href:"/register"},"register"),".")))}}]),t}(n.Component)),A=a(71),B=a(41),U=a.n(B),J=a(72),K=a.n(J);a(139);function _(e){return r.a.createElement("div",{className:"SearchBar"},r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(U.a,null,r.a.createElement(N.a,{id:"searchField",autoFocus:!0,placeholder:"Nama atau NIM",onChange:e.handleChange}),r.a.createElement(U.a.Append,null,r.a.createElement(S.a,{type:"submit",variant:"dark"},"Search")))))}function q(e){return r.a.createElement("div",{className:"SearchNavigation"},r.a.createElement(S.a,{disabled:e.page<=0,onClick:function(){return e.changePage(e.page-1)},variant:"dark"},"\u2039 Previous"),r.a.createElement("p",null,"Page: ",e.page),r.a.createElement(S.a,{disabled:0===e.pageEntryCount,onClick:function(){return e.changePage(e.page+1)},variant:"dark"},"Next \u203a"))}function G(e){if(null===e.listMahasiswa||void 0===e.listMahasiswa||0===e.listMahasiswa.length)return r.a.createElement("h2",{id:"NoResult"},"No Result");var t=e.listMahasiswa.map(function(e){return r.a.createElement("tr",{key:e.nim_tpb},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.nim_tpb),r.a.createElement("td",null,e.nim_jur),r.a.createElement("td",null,e.prodi))});return r.a.createElement("div",{className:"SearchResults"},r.a.createElement("h3",null,"Query: ",e.lastQuery),r.a.createElement(K.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nama"),r.a.createElement("th",null,"NIM TPB"),r.a.createElement("th",null,"NIM Jurusan"),r.a.createElement("th",null,"Prodi"))),r.a.createElement("tbody",null,t)))}var H=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(w.a)({},e.target.id,e.target.value))},a.handleSubmit=function(){var e=Object(k.a)(O.a.mark(function e(t){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.setState({page:0},function(){return a.sendQuery()});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={haveSearched:!1,searchField:"",resultCountPerPage:10},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.sendQuery=a.sendQuery.bind(Object(d.a)(a)),a.changePage=a.changePage.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"changePage",value:function(e){var t=this;this.setState({page:e},function(){return t.sendQuery()})}},{key:"sendQuery",value:function(){var e=this,t=!!isNaN(this.state.searchField),a=Object(A.a)({},t?{name:this.state.searchField}:{query:this.state.searchField},{page:this.state.page,count:this.state.resultCountPerPage}),n={method:"GET",url:"https://api.stya.net/nim/"+(t?"byname":"byid")+"?"+D.a.stringify(a),headers:{"Auth-Token":this.props.token}};R()(n).then(function(t){return e.setState({listMahasiswa:t.data.payload,lastQuery:t.data.query,haveSearched:!0})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"SearchPage"},r.a.createElement(_,{handleChange:this.handleChange,handleSubmit:this.handleSubmit}),this.state.haveSearched?r.a.createElement("div",null,r.a.createElement(G,{listMahasiswa:this.state.listMahasiswa,lastQuery:this.state.lastQuery}),r.a.createElement(q,{page:this.state.page,changePage:this.changePage,pageEntryCount:this.state.listMahasiswa.length})):null)}}]),t}(n.Component);a(140);function Y(e){return r.a.createElement("div",{className:"lander"},r.a.createElement("div",{className:"landerMessage"},r.a.createElement("div",null,r.a.createElement("h1",null,"INF NIM Finder"),r.a.createElement("p",null,"Yet another NIM Finder"))),r.a.createElement(T,{isLoggedIn:e.isLoggedIn,onLogin:e.onLogin}))}function z(e){return r.a.createElement("div",{className:"Home"},e.isLoggedIn?r.a.createElement(H,{isLoggedIn:e.isLoggedIn,token:e.token,onLogin:e.onLogin}):r.a.createElement(Y,{isLoggedIn:e.isLoggedIn,onLogin:e.onLogin}))}a(141);var V=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(w.a)({},e.target.id,e.target.value))},a.handleSubmit=function(){var e=Object(k.a)(O.a.mark(function e(t){var n,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n={username:a.state.username,password:a.state.password},r={method:"POST",url:"https://api.stya.net/nim/register",headers:{"content-type":"application/x-www-form-urlencoded"},data:D.a.stringify(n)},R()(r).then(function(e){return a.handleLoginResponse(e.data)});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={username:"",password:"",registerSuccessful:!1},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleLoginResponse",value:function(e){0===e.code&&"OK"===e.status?this.setState({registerSuccessful:!0}):alert(e.status)}},{key:"render",value:function(){return this.props.isLoggedIn?r.a.createElement(m.a,{to:"/"}):this.state.registerSuccessful?r.a.createElement(m.a,{to:"/login"}):r.a.createElement("div",{className:"Register"},r.a.createElement("h3",{id:"register-header"},"Register"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(P.a,{controlId:"username"},r.a.createElement(F.a,null,"Username"),r.a.createElement(N.a,{autoFocus:!0,type:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(P.a,{controlId:"password"},r.a.createElement(F.a,null,"Password"),r.a.createElement(N.a,{type:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(S.a,{block:!0,type:"submit",variant:"dark"},"Register"),r.a.createElement("p",null,"or, ",r.a.createElement("a",{href:"/login"},"login"),".")))}}]),t}(n.Component),W=(a(142),function(){return r.a.createElement("div",{className:"NotFound"},r.a.createElement("h3",null,"Sorry, page not found!"))}),X=(a(143),function(e){function t(e){var a;Object(o.a)(this,t),a=Object(c.a)(this,Object(u.a)(t).call(this,e));var n=p.a.load("token");return a.state={token:n,isLoggedIn:void 0!==n&&null!==n},a.onLogin=a.onLogin.bind(Object(d.a)(a)),a.onLogout=a.onLogout.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"onLogin",value:function(){var e=p.a.load("token");this.setState({token:e,isLoggedIn:!0})}},{key:"onLogout",value:function(){p.a.remove("token",{path:"/"}),this.setState({token:void 0,isLoggedIn:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(L,{isLoggedIn:this.state.isLoggedIn,onLogout:this.onLogout}),r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/",exact:!0,render:function(t){return r.a.createElement(z,Object.assign({},t,{isLoggedIn:e.state.isLoggedIn,token:e.state.token,onLogin:e.onLogin}))}}),r.a.createElement(m.b,{path:"/login",exact:!0,render:function(t){return r.a.createElement(T,Object.assign({},t,{isLoggedIn:e.state.isLoggedIn,onLogin:e.onLogin}))}}),r.a.createElement(m.b,{path:"/register",exact:!0,render:function(t){return r.a.createElement(V,Object.assign({},t,{isLoggedIn:e.state.isLoggedIn}))}}),r.a.createElement(m.b,{component:W})))}}]),t}(n.Component)),Z=a(33);a(144);i.a.render(r.a.createElement(Z.a,null,r.a.createElement(X,null)),document.getElementById("root"))},73:function(e,t,a){e.exports=a(145)},79:function(e,t,a){}},[[73,1,2]]]);
//# sourceMappingURL=main.fb4b2701.chunk.js.map