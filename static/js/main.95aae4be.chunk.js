(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(39),o=a.n(s),i=a(11),l=a(12),c=a(14),u=a(13),d=a(16),h=a(15),m=a(25),g=a(29),p=a.n(g),E=a(34),f=a.n(E),v=a(33),b=a.n(v),L=a(40),y=(a(90),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onLogout=function(){a.props.onLogout()},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"renderLoginOption",value:function(){return this.props.isLoggedIn?r.a.createElement(b.a,null,r.a.createElement(b.a.Link,{eventKey:0,onSelect:this.onLogout},"Logout")):r.a.createElement(b.a,null,r.a.createElement(L.LinkContainer,{to:"/register"},r.a.createElement(b.a.Link,null,"Register")),r.a.createElement(L.LinkContainer,{to:"/login"},r.a.createElement(b.a.Link,null,"Login")))}},{key:"render",value:function(){return r.a.createElement("div",{className:"MainNavbar"},r.a.createElement(f.a,{expand:"sm",bg:"dark",variant:"dark"},r.a.createElement(f.a.Brand,{href:"/INF-NIM-Finder/"},"INF NIM Finder"),r.a.createElement(f.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(f.a.Collapse,{className:"justify-content-end"},this.renderLoginOption())))}}]),t}(n.Component)),k=a(19),O=a.n(k),w=a(26),j=a(20),I=a(22),S=a.n(I),N=a(21),C=a.n(N),P=a(31),F=a.n(P),M=a(32),R=a.n(M),x=a(18),Q=a(27),D=a.n(Q),T=a(28),B=a.n(T),A=(a(139),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(j.a)({},e.target.id,e.target.value))},a.handleSubmit=function(){var e=Object(w.a)(O.a.mark(function e(t){var n,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n={username:a.state.username,password:a.state.password},r={method:"POST",url:"https://api.stya.net/nim/login",headers:{"content-type":"application/x-www-form-urlencoded"},data:B.a.stringify(n)},D()(r).then(function(e){return a.handleLoginResponse(e.data)}).catch(function(e){alert(e),console.log(e)});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={username:"",password:""},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleLoginResponse",value:function(e){if(0===e.code&&"OK"===e.status){var t=new Date(Date.now());t.setDate(t.getDate()+1),p.a.save("token",e.token,{path:"/",expires:t}),this.props.onLogin()}else alert(e.status)}},{key:"render",value:function(){return this.props.isLoggedIn?r.a.createElement(m.c,{to:"/"}):r.a.createElement("div",{className:"Login"},r.a.createElement("h3",{id:"login-header"},"Login"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(F.a,{controlId:"username"},r.a.createElement(R.a,null,"Username"),r.a.createElement(C.a,{autoFocus:!0,type:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(F.a,{controlId:"password"},r.a.createElement(R.a,null,"Password"),r.a.createElement(C.a,{type:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(S.a,{block:!0,type:"submit",variant:"dark"},"Login"),r.a.createElement("p",null,"or, ",r.a.createElement(x.Link,{to:"/register"},"register"),".")))}}]),t}(n.Component)),U=a(73),J=a(42),K=a.n(J),_=a(74),q=a.n(_);a(142);function G(e){return r.a.createElement("div",{className:"SearchBar"},r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(K.a,null,r.a.createElement(C.a,{id:"searchField",autoFocus:!0,placeholder:"Nama atau NIM",onChange:e.handleChange}),r.a.createElement(K.a.Append,null,r.a.createElement(S.a,{type:"submit",variant:"dark"},"Search")))))}function H(e){return r.a.createElement("div",{className:"SearchNavigation"},r.a.createElement(S.a,{disabled:e.page<=0,onClick:function(){return e.changePage(e.page-1)},variant:"dark"},"\u2039 Previous"),r.a.createElement("p",null,"Page: ",e.page+1),r.a.createElement(S.a,{disabled:0===e.pageEntryCount,onClick:function(){return e.changePage(e.page+1)},variant:"dark"},"Next \u203a"))}function Y(e){if(null===e.listMahasiswa||void 0===e.listMahasiswa||0===e.listMahasiswa.length)return r.a.createElement("h2",{id:"NoResult"},"No Result");var t=e.listMahasiswa.map(function(e){return r.a.createElement("tr",{key:e.nim_tpb},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.nim_tpb),r.a.createElement("td",null,e.nim_jur),r.a.createElement("td",null,e.prodi))});return r.a.createElement("div",{className:"SearchResults"},r.a.createElement("h3",null,"Query: ",e.lastQuery),r.a.createElement(q.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nama"),r.a.createElement("th",null,"NIM TPB"),r.a.createElement("th",null,"NIM Jurusan"),r.a.createElement("th",null,"Prodi"))),r.a.createElement("tbody",null,t)))}var z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(j.a)({},e.target.id,e.target.value))},a.handleSubmit=function(){var e=Object(w.a)(O.a.mark(function e(t){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.setState({page:0},function(){return a.sendQuery()});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={haveSearched:!1,searchField:"",resultCountPerPage:10},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.sendQuery=a.sendQuery.bind(Object(d.a)(a)),a.changePage=a.changePage.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"changePage",value:function(e){var t=this;this.setState({page:e},function(){return t.sendQuery()})}},{key:"sendQuery",value:function(){var e=this,t=!!isNaN(this.state.searchField),a=Object(U.a)({},t?{name:this.state.searchField}:{query:this.state.searchField},{page:this.state.page,count:this.state.resultCountPerPage}),n={method:"GET",url:"https://api.stya.net/nim/"+(t?"byname":"byid")+"?"+B.a.stringify(a),headers:{"Auth-Token":this.props.token}};D()(n).then(function(t){return e.setState({listMahasiswa:t.data.payload,lastQuery:t.data.query,haveSearched:!0})}).catch(function(e){alert(e),console.log(e)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"SearchPage"},r.a.createElement(G,{handleChange:this.handleChange,handleSubmit:this.handleSubmit}),this.state.haveSearched?r.a.createElement("div",null,r.a.createElement(Y,{listMahasiswa:this.state.listMahasiswa,lastQuery:this.state.lastQuery}),r.a.createElement(H,{page:this.state.page,changePage:this.changePage,pageEntryCount:this.state.listMahasiswa.length})):null)}}]),t}(n.Component);a(143);function V(e){return r.a.createElement("div",{className:"lander"},r.a.createElement("div",{className:"landerMessage"},r.a.createElement("div",null,r.a.createElement("h1",null,"INF NIM Finder"),r.a.createElement("p",null,"Yet another NIM Finder"))),r.a.createElement(A,{isLoggedIn:e.isLoggedIn,onLogin:e.onLogin}))}function W(e){return r.a.createElement("div",{className:"Home"},e.isLoggedIn?r.a.createElement(z,{isLoggedIn:e.isLoggedIn,token:e.token,onLogin:e.onLogin}):r.a.createElement(V,{isLoggedIn:e.isLoggedIn,onLogin:e.onLogin}))}a(144);var X=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(j.a)({},e.target.id,e.target.value))},a.handleSubmit=function(){var e=Object(w.a)(O.a.mark(function e(t){var n,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n={username:a.state.username,password:a.state.password},r={method:"POST",url:"https://api.stya.net/nim/register",headers:{"content-type":"application/x-www-form-urlencoded"},data:B.a.stringify(n)},D()(r).then(function(e){return a.handleRegisterResponse(e.data)}).catch(function(e){alert(e),console.log(e)});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={username:"",password:"",registerSuccessful:!1},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleRegisterResponse",value:function(e){0===e.code&&"OK"===e.status?this.setState({registerSuccessful:!0}):alert(e.status)}},{key:"render",value:function(){return this.props.isLoggedIn?r.a.createElement(m.c,{to:"/"}):this.state.registerSuccessful?r.a.createElement(m.c,{to:"/login"}):r.a.createElement("div",{className:"Register"},r.a.createElement("h3",{id:"register-header"},"Register"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(F.a,{controlId:"username"},r.a.createElement(R.a,null,"Username"),r.a.createElement(C.a,{autoFocus:!0,type:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(F.a,{controlId:"password"},r.a.createElement(R.a,null,"Password"),r.a.createElement(C.a,{type:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(S.a,{block:!0,type:"submit",variant:"dark"},"Register"),r.a.createElement("p",null,"or, ",r.a.createElement(x.Link,{to:"/login"},"login"),".")))}}]),t}(n.Component),Z=(a(145),function(){return r.a.createElement("div",{className:"NotFound"},r.a.createElement("h3",null,"Sorry, page not found!"))}),$=(a(146),function(e){function t(e){var a;Object(i.a)(this,t),a=Object(c.a)(this,Object(u.a)(t).call(this,e));var n=p.a.load("token");return a.state={token:n,isLoggedIn:void 0!==n&&null!==n},a.onLogin=a.onLogin.bind(Object(d.a)(a)),a.onLogout=a.onLogout.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"onLogin",value:function(){var e=p.a.load("token");this.setState({token:e,isLoggedIn:!0})}},{key:"onLogout",value:function(){p.a.remove("token",{path:"/"}),this.setState({token:void 0,isLoggedIn:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(y,{isLoggedIn:this.state.isLoggedIn,onLogout:this.onLogout}),r.a.createElement(m.g,null,r.a.createElement(m.d,{path:"/",exact:!0,render:function(t){return r.a.createElement(W,Object.assign({},t,{isLoggedIn:e.state.isLoggedIn,token:e.state.token,onLogin:e.onLogin}))}}),r.a.createElement(m.d,{path:"/login",exact:!0,render:function(t){return r.a.createElement(A,Object.assign({},t,{isLoggedIn:e.state.isLoggedIn,onLogin:e.onLogin}))}}),r.a.createElement(m.d,{path:"/register",exact:!0,render:function(t){return r.a.createElement(X,Object.assign({},t,{isLoggedIn:e.state.isLoggedIn}))}}),r.a.createElement(m.d,{component:Z})))}}]),t}(n.Component));a(147);o.a.render(r.a.createElement(x.BrowserRouter,{basename:"/INF-NIM-Finder"},r.a.createElement($,null)),document.getElementById("root"))},75:function(e,t,a){e.exports=a(148)},90:function(e,t,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.95aae4be.chunk.js.map